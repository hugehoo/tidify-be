### TODO
- [X] Dockerfile, ssh 자동화 script
- [X] validation 
- [X] RestExceptionHandler
- [X] User 연관관계 매핑
  - [X] Folder
  - [X] Bookmark
  - [X] 테스트 코드 작성 후 리팩토링
- [X] Pagination + 정렬
- [X] Redis 띄우기
- [X] refresh token 만료시 -> 재발급
- [X] API 문서 - Swagger?
- [X] Apple login
- [ ] Label ~~Ehcache~~ -> Redis 캐싱 
- [ ] createTime, updateTime 자동 변경 안되네. audity? 추가할것
- [ ] ERD
- [ ] Log
- [ ] 예외처리 고도화
- [ ] 로그아웃 API
  - 로그아웃 후에 다시 로그인 시, 기존 존재하는 계정이니 로직 분기할 것. 


### label Controller
- [X] 조회

### folder
- [X] 조회
- [X] 생성
- [X] 수정
- [X] 삭제

### bookmark
- [X] 조회
- [X] 생성
- [X] 수정
- [X] 삭제

### Test Code
- [X] 인수테스트 시나리오 작성
  - [X] Folder
  - [X] Bookmark

- ATDD Scenario
  - [X] 폴더를 삭제하면, 내부 북마크는 모두 폴더 미지정 상태로 변경된다.
  - [X] 폴더가 수정되면, 내부 북마크의 폴더 아이디도 모두 수정되야 한다.
  - [X] 북마크의 폴더가 수정되면, 변경된 폴더를 조회할 때 해당 북마크가 조회된다.
- `폴더를 삭제하면, 내부 북마크는 모두 폴더 미지정 상태로 변경된다.` 이런거 생각하면 RDB 가 맞지. 
- RDB 선택한 근거는 NoSql이 현재 시스템에서 부적합하기 때문. Update 가 자주발생. 북마크의 폴더 수정하면, 수정된대로 update 발생 -> Nosql 부적합.
- 근데 몽고를 사용하면, 폴더 이름이 바뀌든, 라벨이 바뀌든 북마크는 타격 X.
- RDB 에서도, 폴더 이름/라벨 바뀌는건 노상관 아닐까? 그치. 폴더 아이디가 바뀌는건 아니니까.
- RDB, 북마크가 폴더를 바꾸면, 북마크의 폴더 아이디만 바꿔주면된다. -> Nosql,embedded 내부를 변경해야함. 
- 삭제 CASE
  - RDB : 폴더를 삭제하면, 해당 폴더의 북마크는 모두 folderId null 로 수정. 
  - NoSql : 폴더를 삭제하면, 해당 폴더의 embedded 는 모두 다른 collection 으로 옮겨야함.


### Folder 도메인 시나리오
| Given            | When        | Then                          |
|------------------|-------------|-------------------------------|
| 폴더가 저장되어 있을 때    | 폴더 조회 시     | 이름과 라벨의 값은 반드시 존재한다.          |
| 폴더의 이름과 라벨을 지정하여 | 폴더를 저장하면    | 폴더는 정상적으로 저장된다.               |
| 저장된 폴더의          | 이름을 수정하면    | 폴더의 이름이 수정된다.                 |
| 폴더 생성 시          | 이름이 누락되면    | 예외를 던진다.                      |
| 폴더 생성 시          | 라벨이 누락되면    | 예외를 던진다.                      |
| 폴더에 북마크가 존재할 때   | 해당 폴더를 삭제하면 | 북마크는 폴더가 지정되지 않은 상태로 업데이트 된다. |

### 북마크 도메인 시나리오
| Given         | When                   | Then                   |
|---------------|------------------------|------------------------|
| 북마크 저장되어 있을 때 | 북마크 조회 시               | 이름과 URL 값은 반드시 존재한다.   |
| 북마크가 저장되어 있을 때 | 특정 검색어와 일치하는 북마크가 존재하면 | 해당 북마크가 조회된다.          |
| 북마크를 저장할 때    | 이름과 URL 이 모두 지정되면      | 해당 값으로 북마크가 저장된다.      |
| 북마크를 저장할 때    | URL 은 지정 했지만 이름이 누락되면  | 이름은 URL과 동일한 값으로 저장된다. |
| 북마크를 저장할 때 ☑️ | URL 이 누락되면             | 예외를 던진다.               |
| 북마크를 수정할 때    | 이름을 수정하면               | 북마크의 이름이 수정된다.         |
| 북마크를 수정할 때    | 이름을 빈값으로 수정하면          | 이름은 URL과 같은 값으로 수정된다.  |
| 북마크를 수정할 때    | 폴더를 수정하면               | 북마크는 수정된 폴더에서 조회된다.    |
|  | 북마크를 삭제하면              | 해당 북마크는 조회되지 않는다.      |

